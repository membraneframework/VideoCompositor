"use strict";(self.webpackChunkcompositor_live=self.webpackChunkcompositor_live||[]).push([[9551],{33475:(e,r,i)=>{i.r(r),i.d(r,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>t,metadata:()=>c,toc:()=>l});var n=i(74848),s=i(28453);const t={description:"TypeScript SDK Reference"},o="Reference",c={id:"typescript/api",title:"Reference",description:"TypeScript SDK Reference",source:"@site/pages/typescript/api.md",sourceDirName:"typescript",slug:"/typescript/api",permalink:"/docs/typescript/api",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{description:"TypeScript SDK Reference"},sidebar:"sidebar",previous:{title:"Example: AWS EC2",permalink:"/docs/deployment/aws-ec2"},next:{title:"Hooks",permalink:"/docs/typescript/hooks"}},d={},l=[{value:"<code>LiveCompositor</code>",id:"livecompositor",level:2},{value:"<code>new LiveCompositor()</code>",id:"new-livecompositor",level:3},{value:"<code>init()</code>",id:"init",level:3},{value:"<code>start()</code>",id:"start",level:3},{value:"Outputs configuration",id:"outputs-configuration",level:3},{value:"Register output",id:"register-output",level:4},{value:"Unregister output",id:"unregister-output",level:4},{value:"Inputs configuration",id:"inputs-configuration",level:3},{value:"Register input",id:"register-input",level:4},{value:"Unregister input",id:"unregister-input",level:4},{value:"Renderers configuration",id:"renderers-configuration",level:3},{value:"Register image",id:"register-image",level:4},{value:"Unregister image",id:"unregister-image",level:4},{value:"Register shader",id:"register-shader",level:4},{value:"Unregister shader",id:"unregister-shader",level:4},{value:"Register web renderer instance",id:"register-web-renderer-instance",level:4},{value:"Unregister web renderer instance",id:"unregister-web-renderer-instance",level:4}];function a(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h1,{id:"reference",children:"Reference"}),"\n",(0,n.jsxs)(r.p,{children:["Packages like ",(0,n.jsx)(r.code,{children:"@live-compositor/node"})," export ",(0,n.jsx)(r.code,{children:"LiveCompositor"})," class that is a main entity used to interact with or control Live Compositor server instance."]}),"\n",(0,n.jsx)(r.h2,{id:"livecompositor",children:(0,n.jsx)(r.code,{children:"LiveCompositor"})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import LiveCompositor from "@live-compositor/node"\n'})}),"\n",(0,n.jsx)(r.h3,{id:"new-livecompositor",children:(0,n.jsx)(r.code,{children:"new LiveCompositor()"})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:"new LiveCompositor(manager?: CompositorManager)\n"})}),"\n",(0,n.jsxs)(r.p,{children:["Creates new compositor configuration. You have to call ",(0,n.jsx)(r.code,{children:"init"})," first before this object can be used."]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"CompositorManager"})," configures how the client code will connect and manage the LiveCompositor server."]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["(",(0,n.jsx)(r.strong,{children:"default"}),") ",(0,n.jsx)(r.code,{children:"LocallySpawnedInstance"})," from ",(0,n.jsx)(r.code,{children:"@live-compositor/node"})," downloads LiveCompositor binaries and starts the server on the local machine."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"ExistingInstance"})," from ",(0,n.jsx)(r.code,{children:"@live-compositor/node"})," connects to already existing compositor instance."]}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"init",children:(0,n.jsx)(r.code,{children:"init()"})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:"LiveCompositor.init(): Promise<void>\n"})}),"\n",(0,n.jsxs)(r.p,{children:["Initialize the LiveCompositor instance, depending on which ",(0,n.jsx)(r.code,{children:"CompositorManager"})," you are using it might mean spawning\nnew instance or just establishing connection."]}),"\n",(0,n.jsxs)(r.p,{children:["After this request you can start connecting inputs/outputs or register other elements. However, no output stream will\nbe produced until ",(0,n.jsx)(r.code,{children:"start()"})," method is called."]}),"\n",(0,n.jsx)(r.h3,{id:"start",children:(0,n.jsx)(r.code,{children:"start()"})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:"LiveCompositor.start(): Promise<void>\n"})}),"\n",(0,n.jsx)(r.p,{children:"Starts the processing pipeline. Any previously registered output will start producing the video/audio stream."}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h3,{id:"outputs-configuration",children:"Outputs configuration"}),"\n",(0,n.jsx)(r.h4,{id:"register-output",children:"Register output"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import { Outputs } from "live-compositor"\n\nLiveCompositor.registerOutput(\n  outputId: string,\n  output: Outputs.RegisterOutput,\n): Promise<object>\n'})}),"\n",(0,n.jsx)(r.p,{children:"Register external destination that can be used as a compositor output. See outputs documentation to learn more:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"/docs/typescript/outputs/rtp",children:"Rtp"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"/docs/typescript/outputs/mp4",children:"Mp4"})}),"\n"]}),"\n",(0,n.jsx)(r.h4,{id:"unregister-output",children:"Unregister output"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:"LiveCompositor.unregisterOutput(outputId: string): Promise<void>\n"})}),"\n",(0,n.jsx)(r.p,{children:"Unregister previously registered output."}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h3,{id:"inputs-configuration",children:"Inputs configuration"}),"\n",(0,n.jsx)(r.h4,{id:"register-input",children:"Register input"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import { Inputs } from "live-compositor"\n\nLiveCompositor.registerInput(\n  inputId: string,\n  input: Inputs.RegisterInput,\n): Promise<object>\n'})}),"\n",(0,n.jsx)(r.p,{children:"Register external source that can be used as a compositor input. See inputs documentation to learn more:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"/docs/typescript/inputs/rtp",children:"RTP"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"/docs/typescript/inputs/mp4",children:"MP4"})}),"\n"]}),"\n",(0,n.jsx)(r.h4,{id:"unregister-input",children:"Unregister input"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:"LiveCompositor.unregisterInput(inputId: string): Promise<void>\n"})}),"\n",(0,n.jsx)(r.p,{children:"Unregister a previously registered input."}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h3,{id:"renderers-configuration",children:"Renderers configuration"}),"\n",(0,n.jsx)(r.h4,{id:"register-image",children:"Register image"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import { Renderers } from "live-compositor"\n\nLiveCompositor.registerImage(\n  imageId: string,\n  image: Renderers.RegisterImage,\n): Promise<void>\n'})}),"\n",(0,n.jsxs)(r.p,{children:["Register an image asset. See ",(0,n.jsx)(r.a,{href:"/docs/typescript/renderers/image",children:(0,n.jsx)(r.code,{children:"Renderers.RegisterImage"})})," to learn more."]}),"\n",(0,n.jsx)(r.h4,{id:"unregister-image",children:"Unregister image"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:"LiveCompositor.unregisterImage(imageId: string): Promise<void>\n"})}),"\n",(0,n.jsx)(r.p,{children:"Unregister a previously registered image asset."}),"\n",(0,n.jsx)(r.h4,{id:"register-shader",children:"Register shader"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import { Renderers } from "live-compositor"\n\nLiveCompositor.registerShader(\n  shaderId: string,\n  shader: Renderers.RegisterShader,\n): Promise<void>\n'})}),"\n",(0,n.jsxs)(r.p,{children:["Register a shader. See ",(0,n.jsx)(r.a,{href:"/docs/typescript/renderers/shader",children:(0,n.jsx)(r.code,{children:"Renderers.RegisterShader"})})," to learn more."]}),"\n",(0,n.jsx)(r.h4,{id:"unregister-shader",children:"Unregister shader"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:"LiveCompositor.unregisterShader(shaderId: string): Promise<void>\n"})}),"\n",(0,n.jsx)(r.p,{children:"Unregister a previously registered shader."}),"\n",(0,n.jsx)(r.h4,{id:"register-web-renderer-instance",children:"Register web renderer instance"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import { Renderers } from "live-compositor"\n\nLiveCompositor.registerWebRenderer(\n  instanceId: string,\n  instance: Renderers.RegisterWebRenderer,\n): Promise<object>\n'})}),"\n",(0,n.jsxs)(r.p,{children:["Register a web renderer instance. See ",(0,n.jsx)(r.a,{href:"/docs/typescript/renderers/web",children:(0,n.jsx)(r.code,{children:"Renderer.RegisterWebRenderer"})})," to learn more."]}),"\n",(0,n.jsx)(r.h4,{id:"unregister-web-renderer-instance",children:"Unregister web renderer instance"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:"LiveCompositor.unregisterWebRenderer(instanceId: string): Promise<void>\n"})}),"\n",(0,n.jsx)(r.p,{children:"Unregister a previously registered web renderer."})]})}function p(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},28453:(e,r,i)=>{i.d(r,{R:()=>o,x:()=>c});var n=i(96540);const s={},t=n.createContext(s);function o(e){const r=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(t.Provider,{value:r},e.children)}}}]);