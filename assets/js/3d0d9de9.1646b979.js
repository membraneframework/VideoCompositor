"use strict";(self.webpackChunkcompositor_live=self.webpackChunkcompositor_live||[]).push([[7180],{7346:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>t,contentTitle:()=>s,default:()=>_,frontMatter:()=>l,metadata:()=>d,toc:()=>c});var i=n(5893),r=n(1151);const l={},s="Configuration",d={id:"deployment/configuration",title:"Configuration",description:"Environment variables",source:"@site/pages/deployment/configuration.md",sourceDirName:"deployment",slug:"/deployment/configuration",permalink:"/docs/deployment/configuration",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Deployment",permalink:"/docs/category/deployment"},next:{title:"API Reference",permalink:"/docs/category/api-reference"}},t={},c=[{value:"Environment variables",id:"environment-variables",level:2},{value:"<code>LIVE_COMPOSITOR_API_PORT</code>",id:"live_compositor_api_port",level:3},{value:"<code>LIVE_COMPOSITOR_OUTPUT_FRAMERATE</code>",id:"live_compositor_output_framerate",level:3},{value:"<code>LIVE_COMPOSITOR_OUTPUT_SAMPLE_RATE</code>",id:"live_compositor_output_sample_rate",level:3},{value:"<code>LIVE_COMPOSITOR_FORCE_GPU</code>",id:"live_compositor_force_gpu",level:3},{value:"<code>LIVE_COMPOSITOR_STREAM_FALLBACK_TIMEOUT_MS</code>",id:"live_compositor_stream_fallback_timeout_ms",level:3},{value:"<code>LIVE_COMPOSITOR_LOGGER_LEVEL</code>",id:"live_compositor_logger_level",level:3},{value:"<code>LIVE_COMPOSITOR_LOGGER_FORMAT</code>",id:"live_compositor_logger_format",level:3},{value:"<code>LIVE_COMPOSITOR_FFMPEG_LOGGER_LEVEL</code>",id:"live_compositor_ffmpeg_logger_level",level:3},{value:"<code>LIVE_COMPOSITOR_DOWNLOAD_DIR</code>",id:"live_compositor_download_dir",level:3},{value:"<code>LIVE_COMPOSITOR_WEB_RENDERER_ENABLE</code>",id:"live_compositor_web_renderer_enable",level:3},{value:"<code>LIVE_COMPOSITOR_WEB_RENDERER_GPU_ENABLE</code>",id:"live_compositor_web_renderer_gpu_enable",level:3},{value:"<code>LIVE_COMPOSITOR_AHEAD_OF_TIME_PROCESSING_ENABLE</code>",id:"live_compositor_ahead_of_time_processing_enable",level:3}];function a(e){const o={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.h1,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(o.h2,{id:"environment-variables",children:"Environment variables"}),"\n",(0,i.jsx)(o.h3,{id:"live_compositor_api_port",children:(0,i.jsx)(o.code,{children:"LIVE_COMPOSITOR_API_PORT"})}),"\n",(0,i.jsx)(o.p,{children:"API port. Defaults to 8001."}),"\n",(0,i.jsx)(o.h3,{id:"live_compositor_output_framerate",children:(0,i.jsx)(o.code,{children:"LIVE_COMPOSITOR_OUTPUT_FRAMERATE"})}),"\n",(0,i.jsxs)(o.p,{children:["Output framerate for all output streams. This value can be a number or string in the ",(0,i.jsx)(o.code,{children:"NUM/DEN"})," format , where both ",(0,i.jsx)(o.code,{children:"NUM"})," and ",(0,i.jsx)(o.code,{children:"DEN"})," are unsigned integers."]}),"\n",(0,i.jsx)(o.h3,{id:"live_compositor_output_sample_rate",children:(0,i.jsx)(o.code,{children:"LIVE_COMPOSITOR_OUTPUT_SAMPLE_RATE"})}),"\n",(0,i.jsx)(o.p,{children:"Output sample rate for all output streams. This value has to be a number or string representing supported sample rate."}),"\n",(0,i.jsx)(o.p,{children:"Supported sample rates are: 8000, 12000, 16000, 24000, 48000"}),"\n",(0,i.jsx)(o.h3,{id:"live_compositor_force_gpu",children:(0,i.jsx)(o.code,{children:"LIVE_COMPOSITOR_FORCE_GPU"})}),"\n",(0,i.jsxs)(o.p,{children:["If enabled, GPU will be required for rendering. If only CPU based adapters will be found then process will exit with an error. Defaults to ",(0,i.jsx)(o.code,{children:"false"}),"."]}),"\n",(0,i.jsx)(o.h3,{id:"live_compositor_stream_fallback_timeout_ms",children:(0,i.jsx)(o.code,{children:"LIVE_COMPOSITOR_STREAM_FALLBACK_TIMEOUT_MS"})}),"\n",(0,i.jsx)(o.p,{children:"A timeout that defines when the compositor should switch to fallback on the input stream that stopped sending frames."}),"\n",(0,i.jsx)(o.h3,{id:"live_compositor_logger_level",children:(0,i.jsx)(o.code,{children:"LIVE_COMPOSITOR_LOGGER_LEVEL"})}),"\n",(0,i.jsxs)(o.p,{children:["Logger level. Value can be defined as ",(0,i.jsx)(o.code,{children:"error"}),"/",(0,i.jsx)(o.code,{children:"warn"}),"/",(0,i.jsx)(o.code,{children:"info"}),"/",(0,i.jsx)(o.code,{children:"debug"}),"/",(0,i.jsx)(o.code,{children:"trace"}),"."]}),"\n",(0,i.jsxs)(o.p,{children:["This value also supports syntax for more detailed configuration. See ",(0,i.jsxs)(o.a,{href:"https://docs.rs/tracing-subscriber/latest/tracing_subscriber/filter/struct.EnvFilter.html#example-syntax",children:[(0,i.jsx)(o.code,{children:"tracing-subscriber"})," crate documentation"]})," for more info."]}),"\n",(0,i.jsxs)(o.p,{children:["Defaults to ",(0,i.jsx)(o.code,{children:"info,wgpu_hal=warn,wgpu_core=warn"}),"."]}),"\n",(0,i.jsx)(o.h3,{id:"live_compositor_logger_format",children:(0,i.jsx)(o.code,{children:"LIVE_COMPOSITOR_LOGGER_FORMAT"})}),"\n",(0,i.jsx)(o.p,{children:"Logger format. Supported options:"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsx)(o.li,{children:(0,i.jsx)(o.code,{children:"json"})}),"\n",(0,i.jsx)(o.li,{children:(0,i.jsx)(o.code,{children:"compact"})}),"\n",(0,i.jsx)(o.li,{children:(0,i.jsx)(o.code,{children:"pretty"})}),"\n"]}),"\n",(0,i.jsx)(o.admonition,{type:"warning",children:(0,i.jsxs)(o.p,{children:["This option does not apply to logs produced by ",(0,i.jsx)(o.code,{children:"FFmpeg"})," or the embedded Chromium instance used for web rendering."]})}),"\n",(0,i.jsx)(o.h3,{id:"live_compositor_ffmpeg_logger_level",children:(0,i.jsx)(o.code,{children:"LIVE_COMPOSITOR_FFMPEG_LOGGER_LEVEL"})}),"\n",(0,i.jsx)(o.p,{children:"Minimal log level that should be logged. Supported options:"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.code,{children:"error"})," - equivalent to FFmpeg's ",(0,i.jsx)(o.code,{children:"error, 16"})]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.code,{children:"warn"})," - equivalent to FFmpeg's ",(0,i.jsx)(o.code,{children:"warning, 24"})]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.code,{children:"info"})," - equivalent to FFmpeg's ",(0,i.jsx)(o.code,{children:"info, 32"})]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.code,{children:"debug"})," - equivalent to FFmpeg's ",(0,i.jsx)(o.code,{children:"debug, 48"})]}),"\n"]}),"\n",(0,i.jsxs)(o.p,{children:["See ",(0,i.jsx)(o.code,{children:"-loglevel"})," option in ",(0,i.jsx)(o.a,{href:"https://ffmpeg.org/ffmpeg.html",children:"FFmpeg documentation"}),"."]}),"\n",(0,i.jsx)(o.h3,{id:"live_compositor_download_dir",children:(0,i.jsx)(o.code,{children:"LIVE_COMPOSITOR_DOWNLOAD_DIR"})}),"\n",(0,i.jsx)(o.p,{children:"A path to a directory in which downloaded files will be stored. Uses the location provided by the OS if not set."}),"\n",(0,i.jsxs)(o.p,{children:["In this directory, an instance of the compositor will create a subdirectory named ",(0,i.jsx)(o.code,{children:"live-compositor-<random number>"}),". Downloaded temporary files will be stored there."]}),"\n",(0,i.jsx)(o.h3,{id:"live_compositor_web_renderer_enable",children:(0,i.jsx)(o.code,{children:"LIVE_COMPOSITOR_WEB_RENDERER_ENABLE"})}),"\n",(0,i.jsxs)(o.p,{children:["Enable web rendering capabilities. With this option disabled, you can not use ",(0,i.jsxs)(o.a,{href:"../api/components/WebView",children:[(0,i.jsx)(o.code,{children:"WebView"})," components"]})," or register ",(0,i.jsxs)(o.a,{href:"../api/renderers/web",children:[(0,i.jsx)(o.code,{children:"WebRenderer"})," instances"]}),"."]}),"\n",(0,i.jsxs)(o.p,{children:["Defaults to ",(0,i.jsx)(o.code,{children:"false"}),". Valid values: ",(0,i.jsx)(o.code,{children:"true"}),", ",(0,i.jsx)(o.code,{children:"false"}),", ",(0,i.jsx)(o.code,{children:"1"}),", ",(0,i.jsx)(o.code,{children:"0"}),"."]}),"\n",(0,i.jsx)(o.h3,{id:"live_compositor_web_renderer_gpu_enable",children:(0,i.jsx)(o.code,{children:"LIVE_COMPOSITOR_WEB_RENDERER_GPU_ENABLE"})}),"\n",(0,i.jsx)(o.p,{children:"Enable GPU support inside the embedded Chromium instance."}),"\n",(0,i.jsx)(o.h3,{id:"live_compositor_ahead_of_time_processing_enable",children:(0,i.jsx)(o.code,{children:"LIVE_COMPOSITOR_AHEAD_OF_TIME_PROCESSING_ENABLE"})}),"\n",(0,i.jsx)(o.p,{children:"If enabled, the LiveCompositor server will try to generate output frames ahead of time if all inputs are available."}),"\n",(0,i.jsx)(o.p,{children:"When to enable this option:"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsx)(o.li,{children:"If you want to process input streams faster than in real time."}),"\n"]}),"\n",(0,i.jsxs)(o.p,{children:["Defaults to ",(0,i.jsx)(o.code,{children:"false"}),". Valid values: ",(0,i.jsx)(o.code,{children:"true"}),", ",(0,i.jsx)(o.code,{children:"false"}),", ",(0,i.jsx)(o.code,{children:"1"}),", ",(0,i.jsx)(o.code,{children:"0"}),"."]})]})}function _(e={}){const{wrapper:o}={...(0,r.a)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},1151:(e,o,n)=>{n.d(o,{Z:()=>d,a:()=>s});var i=n(7294);const r={},l=i.createContext(r);function s(e){const o=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function d(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(l.Provider,{value:o},e.children)}}}]);