"use strict";(self.webpackChunkcompositor_live=self.webpackChunkcompositor_live||[]).push([[7247],{936:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>d,toc:()=>c});var t=i(5893),r=i(1151);const s={},o=void 0,d={id:"api/generated/renderer-OutputStream",title:"renderer-OutputStream",description:"OutputStream",source:"@site/pages/api/generated/renderer-OutputStream.md",sourceDirName:"api/generated",slug:"/api/generated/renderer-OutputStream",permalink:"/docs/api/generated/renderer-OutputStream",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{}},l={},c=[{value:"OutputStream",id:"outputstream",level:2},{value:"Properties",id:"properties",level:4},{value:"OutputVideoOptions",id:"outputvideooptions",level:2},{value:"Properties",id:"properties-1",level:4},{value:"Resolution",id:"resolution",level:2},{value:"Properties",id:"properties-2",level:4},{value:"OutputEndCondition",id:"outputendcondition",level:2},{value:"Properties",id:"properties-3",level:4},{value:"OutputAudioOptions",id:"outputaudiooptions",level:2},{value:"Properties",id:"properties-4",level:4},{value:"Audio",id:"audio",level:2},{value:"Properties",id:"properties-5",level:4},{value:"InputAudio",id:"inputaudio",level:2},{value:"Properties",id:"properties-6",level:4}];function u(e){const n={a:"a",code:"code",h2:"h2",h4:"h4",li:"li",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"outputstream",children:"OutputStream"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'type OutputStream = {\n  output_id: string;\n  port: string | u16;\n  ip?: string;\n  transport_protocol?: "udp" | "tcp_server";\n  video?: OutputVideoOptions;\n  audio?: OutputAudioOptions;\n}\n'})}),"\n",(0,t.jsx)(n.h4,{id:"properties",children:"Properties"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"output_id"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"port"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"ip"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"transport_protocol"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"udp"'})," - UDP protocol."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"tcp_server"'})," - TCP protocol where LiveCompositor is the server side of the connection."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"video"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"audio"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"outputvideooptions",children:"OutputVideoOptions"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'type OutputVideoOptions = {\n  resolution: Resolution;\n  encoder_preset: \n    | "ultrafast"\n    | "superfast"\n    | "veryfast"\n    | "faster"\n    | "fast"\n    | "medium"\n    | "slow"\n    | "slower"\n    | "veryslow"\n    | "placebo";\n  ffmpeg_options?: {\n};\n  initial: Component;\n  send_eos_when?: OutputEndCondition;\n}\n'})}),"\n",(0,t.jsx)(n.h4,{id:"properties-1",children:"Properties"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"resolution"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"encoder_preset"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ffmpeg_options"})," - Raw FFmpeg encoder options. See ",(0,t.jsx)(n.a,{href:"https://ffmpeg.org/ffmpeg-codecs.html",children:"docs"})," for more."]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"initial"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"send_eos_when"})," - Condition for termination of output stream based on the input streams states."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"resolution",children:"Resolution"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"type Resolution = {\n  width: u32;\n  height: u32;\n}\n"})}),"\n",(0,t.jsx)(n.h4,{id:"properties-2",children:"Properties"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"width"})," - Width in pixels."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"height"})," - Height in pixels."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"outputendcondition",children:"OutputEndCondition"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"type OutputEndCondition = {\n  any_of?: string[];\n  all_of?: string[];\n  any_input?: bool;\n  all_inputs?: bool;\n}\n"})}),"\n",(0,t.jsx)(n.h4,{id:"properties-3",children:"Properties"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"any_of"})," - Output will be terminated if any of the listed input streams are finished.\nInput stream is considered finished if: - Input never existed - RTCP Goodbye packet was received - MP4 track has ended - Input was unregistered (before or after output registration)\nIn particular, output stream will ",(0,t.jsx)(n.strong,{children:"be"})," terminated if no inputs were ever connected."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"all_of"})," - Output will be terminated if all of the listed input streams are finished. In particular, output stream will ",(0,t.jsx)(n.strong,{children:"be"})," terminated if no inputs were ever connected."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"any_input"})," - Output will be terminated in any of the input streams did terminate. This includes streams added after the output was registered. In particular, output stream will ",(0,t.jsx)(n.strong,{children:"not be"})," terminated if no inputs were ever connected."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"all_inputs"})," - Output will be terminated if all of the input streams are finished. In particular, output stream will ",(0,t.jsx)(n.strong,{children:"be"})," terminated if no inputs were ever connected."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"outputaudiooptions",children:"OutputAudioOptions"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'type OutputAudioOptions = {\n  initial: Audio;\n  channels: "mono" | "stereo";\n  forward_error_correction?: bool;\n  encoder_preset?: "quality" | "voip" | "lowest_latency";\n  mixing_strategy?: "SumClip" | "SumScale";\n  send_eos_when?: OutputEndCondition;\n}\n'})}),"\n",(0,t.jsx)(n.h4,{id:"properties-4",children:"Properties"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"initial"})," - Initial audio for output."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"channels"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"mono"'})," - Mono audio (single channel)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"stereo"'})," - Stereo audio (two channels)."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"forward_error_correction"})," - (",(0,t.jsxs)(n.strong,{children:["default=",(0,t.jsx)(n.code,{children:"false"})]}),") Specifies whether the stream use forward error correction. It's specific for Opus codec. For more information, check out ",(0,t.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc6716#section-2.1.7",children:"RFC"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"encoder_preset"})," - (",(0,t.jsx)(n.strong,{children:'default="voip"'}),") Specifies preset for audio output encoder.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"quality"'})," - Best for broadcast/high-fidelity application where the decoded audio should be as close as possible to the input."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"voip"'})," - Best for most VoIP/videoconference applications where listening quality and intelligibility matter most."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"lowest_latency"'})," - Only use when lowest-achievable latency is what matters most."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"mixing_strategy"}),' - (**default="sum_clip") Specifies how audio should be mixed.',"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"SumClip"'})," - Firstly, input samples are summed. If the result is outside the i16 PCM range, it gets clipped."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"SumScale"'})," - Firstly, input samples are summed. If the result is outside the i16 PCM range, nearby summed samples are scaled down by factor, such that the summed wave is in the i16 PCM range."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"send_eos_when"})," - Condition for termination of output stream based on the input streams states."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"audio",children:"Audio"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"type Audio = {\n  inputs: InputAudio[];\n}\n"})}),"\n",(0,t.jsx)(n.h4,{id:"properties-5",children:"Properties"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"inputs"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"inputaudio",children:"InputAudio"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"type InputAudio = {\n  input_id: string;\n  volume?: f32;\n}\n"})}),"\n",(0,t.jsx)(n.h4,{id:"properties-6",children:"Properties"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"input_id"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"volume"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>d,a:()=>o});var t=i(7294);const r={},s=t.createContext(r);function o(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);